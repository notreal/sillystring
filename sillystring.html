<html>
    <head>
        <title>Silly String</title>
    </head>
    <body>
        <h1>Silly String</h1>
        <p>Type something below, select your style and click Go</p>
        <form action="/api" method="get" name="sillyform" id="sillyform">
            <input type="text" id="what" name="what">
            <select id="which" name="which">
                <option value="acute">ÃÄ‡ÃºtÃ© (28)</option>
                <option value="caron">ÄŒÇÅ™Ç’Åˆ (29)</option>
                <option value="circumflex">ÄˆÃ®rÄ‰Ã»mflÃªx (26)</option>
                <option value="diaeresis">DÃ¯Ó“Ã«rÃ«sÃ¯s (18)</option>
                <option value="dot_above">á¸ŠÈ¯á¹« È¦á¸ƒÈ¯vÄ— (39)</option>
                <option value="dot_below">á¸Œá»á¹­ á¸„áº¹á¸·á»áº‰ (38)</option>
                <option value="fraktur">ğ•±ğ–—ğ–†ğ–ğ–™ğ–šğ–— (52)</option>
                <option value="grave">GrÃ vÃ¨ (16)</option>
                <option value="hook">êªooÆ™ (32)</option>
                <option value="tilde">TÄ©ldáº½ (16)</option>
            </select>
            <input type="submit" value="Go">
        </form>
        <script type="text/javascript">
            sillyform.onsubmit = async (e) => {
                e.preventDefault();
                let sillyform = document.getElementById("sillyform");
                let formData = new FormData(sillyform);
                let formArray = [];
                for(var pair of formData.entries()) {
                    formArray.push(pair.join("=")); 
                };
                let response = await fetch("/", {
                    method: "POST",
                    body: formArray.join("&"),
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                    }
                });
                let result = await response.text();
                document.getElementById("transformed").innerHTML = result;
            };
        </script>
        <div id="transformed"></div>
    </body>
</html>